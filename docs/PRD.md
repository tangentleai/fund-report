# 基金播客 - 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品定位
基于基金季报AI生成基金经理播客解读的Web应用，让普通投资者用听播客的方式轻松理解基金经理的投资观点。

### 1.2 目标用户
- **核心用户**：25-40岁基金投资者，持有3-10只基金
- **痛点**：看不懂季报专业术语，没时间阅读长篇报告
- **场景**：通勤、健身、睡前收听

### 1.3 产品价值
- 将专业金融报告转化为通俗易懂的对话
- 节省阅读时间（15分钟阅读 → 5分钟收听）
- 自选基金自动推送更新

---

## 2. 功能需求

### 2.1 MVP功能清单

| 优先级 | 功能 | 说明 |
|-------|------|------|
| P0 | 基金搜索与添加 | 搜索基金代码/名称，加入自选 |
| P0 | AI播客生成 | 自动提取季报观点并生成对话脚本 |
| P0 | 音频播放 | Web端播放，支持倍速、进度条 |
| P0 | 播客列表 | 展示用户自选基金的所有播客 |
| P1 | 文字稿对照 | 播放时同步高亮文字内容 |
| P1 | 基金详情 | 基本信息、历史观点时间线 |
| P2 | 用户系统 | 登录/注册，跨设备同步 |
| P2 | 推送通知 | 季报发布提醒 |

### 2.2 用户流程

```
新用户流程:
首页 → 搜索基金 → 添加到自选 → 等待AI生成 → 收听播客

老用户流程:
登录 → 查看播客列表 → 播放新播客 → 切换文字稿 → 添加更多基金
```

---

## 3. 页面设计

### 3.1 页面结构

```
┌─────────────────────────────────────────────┐
│  导航栏: Logo | 我的播客 | 基金广场 | 用户头像  │
├─────────────────────────────────────────────┤
│                                             │
│              主内容区                        │
│                                             │
└─────────────────────────────────────────────┤
│  播放器: 播放/暂停 | 进度条 | 倍速 | 列表     │
└─────────────────────────────────────────────┘
```

### 3.2 关键页面原型

#### 页面1：首页/播客列表
- **顶部**：欢迎语 + 快捷搜索框
- **内容区**：播客卡片列表
  ```
  ┌─────────────────────────────┐
  │ [基金Logo] 易方达蓝筹精选    │
  │ 2024Q4季报解读              │
  │ ───────⚫────────── 12:34   │
  │ 👤张坤 · 📅2025-01-15       │
  └─────────────────────────────┘
  ```
- **空状态**：引导添加第一只基金

#### 页面2：搜索/添加基金
- **搜索框**：实时搜索，支持代码/名称
- **结果列表**：
  ```
  005827 易方达蓝筹精选混合
  股票型 · 张坤 · +12.34% · [添加自选]
  ```
- **热门基金推荐**：展示10只热门基金

#### 页面3：播客播放页
- **上半部分**：
  - 基金封面图（或默认图标）
  - 播客标题 + 基金信息
  - AI生成标签
- **中间**：播放器控制
  - 播放/暂停按钮（大）
  - 进度条（可拖拽）
  - 时间显示（当前/总时长）
  - 倍速按钮（0.5x/1x/1.5x/2x）
- **下半部分（可切换）**：
  - 文字稿 Tab：滚动文字，当前句高亮
  - AI摘要 Tab：3个要点总结

#### 页面4：基金详情页
- **基础信息**：名称、代码、类型、经理、规模
- **AI观点时间线**：按季度展示历史观点
- **操作按钮**：生成最新播客、从自选移除

---

## 4. 非功能需求

### 4.1 性能要求
- 页面加载 < 2秒
- 搜索响应 < 500ms
- 音频加载 < 3秒

### 4.2 兼容性
- 移动端优先（iOS Safari、Android Chrome）
- 桌面端兼容（Chrome、Safari、Edge）

### 4.3 安全
- 用户数据加密存储
- API限流防滥用
- 基金数据缓存策略

---

## 5. 数据需求

### 5.1 基金信息
```json
{
  "code": "005827",
  "name": "易方达蓝筹精选混合",
  "manager": "张坤",
  "type": "混合型-偏股",
  "company": "易方达基金",
  "scale": "500亿",
  "logo_url": "..."
}
```

### 5.2 播客内容
```json
{
  "id": "podcast_001",
  "fund_code": "005827",
  "report_period": "2024Q4",
  "title": "易方达蓝筹2024Q4季报解读",
  "duration": 320,
  "audio_url": "...",
  "transcript": [
    {"time": 0, "speaker": "小明", "text": "大家好..."},
    {"time": 5, "speaker": "小红", "text": "今天我们聊..."}
  ],
  "summary": ["要点1", "要点2", "要点3"],
  "created_at": "2025-01-15T10:30:00Z"
}
```

---

## 6. 业务流程

### 6.1 播客生成流程
```
用户添加基金
    ↓
系统定时任务检测新季报
    ↓
下载PDF并解析 → 提取基金经理观点
    ↓
调用DeepSeek API生成对话脚本
    ↓
调用TTS服务生成音频
    ↓
存储播客内容，推送通知用户
```

### 6.2 内容更新策略
- **季报发布时间**：季度结束15个工作日内
- **检测频率**：每日1次（上午10点）
- **生成并发**：限流5个同时生成，避免API限流

---

## 7. 未来规划

### V1.1（1个月后）
- 微信小程序版本
- 播客分享功能（生成海报）
- 评论/点赞互动

### V1.2（3个月后）
- 多基金经理对比播客
- 行业专题播客（消费、医药等）
- 付费会员（优先生成、独家内容）

### V2.0（6个月后）
- App版本（React Native）
- 离线收听
- 智能推荐（根据持仓推荐相关基金）

---

## 8. 风险与限制

### 合规风险
- ⚠️ 需确保不违反基金信息披露规定
- ⚠️ 免责声明：AI解读仅供参考，不构成投资建议

### 技术风险
- ⚠️ AKShare数据不稳定，需有备用方案
- ⚠️ AI生成成本波动，需监控API调用量

### 用户体验
- ⚠️ 季报发布集中，生成队列可能排队
- ⚠️ 首次使用需等待播客生成（可预生成热门基金）
