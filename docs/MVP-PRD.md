# 基金播客 - MVP需求文档

## 1. 产品定位
基于基金季报AI生成基金经理播客解读的最小可行产品(MVP)。

**核心验证点：**
- 用户是否愿意使用AI解读季报？
- 播客形式是否比阅读文字稿更受欢迎？
- 内容质量是否达到可用标准？

---

## 2. MVP功能范围

### 2.1 必须功能（P0）

| 功能 | 说明 | 验证目的 |
|-----|------|---------|
| **基金搜索** | 搜索基金代码/名称 | 用户能否找到自己想听的基金 |
| **基金列表** | 展示已添加的基金 | 核心交互页面 |
| **AI生成播客** | 手动触发，异步生成 | 核心功能，验证AI质量 |
| **播客播放** | 音频播放+文字稿 | 验证播客形式是否可行 |
| **生成状态** | 显示生成进度 | 用户知晓当前状态 |

### 2.2 不做功能（MVP阶段）
- ❌ 用户登录/注册（使用本地存储标识用户）
- ❌ 自动推送通知
- ❌ 多设备同步
- ❌ 评论/点赞/分享
- ❌ 基金详情页
- ❌ 历史观点时间线
- ❌ 付费会员

---

## 3. 用户流程

```
打开应用
   ↓
搜索基金（代码/名称）
   ↓
点击"生成播客"
   ↓
等待生成（显示进度）
   ↓
收听播客（音频+文字稿）
   ↓
可删除基金或继续添加
```

---

## 4. 页面设计

### 4.1 页面结构（单页应用）

```
┌─────────────────────────────────────────────┐
│  顶部标题: 基金播客                           │
├─────────────────────────────────────────────┤
│                                             │
│  搜索框: [🔍 输入基金代码或名称...]           │
│                                             │
│  ┌───────────────────────────────────────┐  │
│  │ 📊 易方达蓝筹精选混合                    │  │
│  │ 👤 张坤 · 📅 2024Q4                    │  │
│  │                                       │  │
│  │ [正在生成...] 或 [▶️ 播放 05:32]        │  │
│  └───────────────────────────────────────┘  │
│                                             │
│  ┌───────────────────────────────────────┐  │
│  │ 💊 中欧医疗健康混合A                    │  │
│  │ 👤 葛兰 · 📅 2024Q4                    │  │
│  │ [▶️ 播放 04:18]                        │  │
│  └───────────────────────────────────────┘  │
│                                             │
└─────────────────────────────────────────────┘
```

### 4.2 播客播放页

```
┌─────────────────────────────────────────────┐
│  [返回] 播客详情                             │
├─────────────────────────────────────────────┤
│                                             │
│              [播客封面/图标]                 │
│                                             │
│         易方达蓝筹精选混合                   │
│         2024年第4季度季报解读                 │
│                                             │
│     ───────⚫───────────────── 02:15/05:32   │
│                                             │
│        [⏮]  [▶️/⏸]  [⏭]                   │
│                                             │
│     0.5x  [1x]  1.5x  2x                    │
│                                             │
├─────────────────────────────────────────────┤
│  [文字稿 ▼]                                 │
│  ────────────────────────────────────────  │
│  [00:00] 小明：大家好，欢迎收听...          │
│  [00:05] 小红：今天我们聊一下...            │
│  [00:12] 小明：张坤在季报中提到...          │
│  ────────────────────────────────────────  │
└─────────────────────────────────────────────┘
```

### 4.3 搜索页

```
┌─────────────────────────────────────────────┐
│  [返回] 添加基金                             │
├─────────────────────────────────────────────┤
│  [🔍 易方达蓝筹...                    ✕]   │
├─────────────────────────────────────────────┤
│  搜索结果：                                  │
│  ┌───────────────────────────────────────┐  │
│  │ 005827 易方达蓝筹精选混合              │  │
│  │ 股票型 · 张坤              [添加]      │  │
│  └───────────────────────────────────────┘  │
│  ┌───────────────────────────────────────┐  │
│  │ 110022 易方达消费行业股票              │  │
│  │ 股票型 · 萧楠              [添加]      │  │
│  └───────────────────────────────────────┘  │
│                                             │
│  热门基金：                                  │
│  易方达蓝筹 · 中欧医疗 · 招商白酒...        │
└─────────────────────────────────────────────┘
```

---

## 5. 数据模型

### 5.1 简化模型

```json
// 基金
{
  "code": "005827",
  "name": "易方达蓝筹精选混合",
  "manager": "张坤",
  "type": "混合型-偏股"
}

// 用户基金（本地存储）
{
  "fund_code": "005827",
  "added_at": "2025-01-15T10:30:00Z"
}

// 播客（后端生成后返回）
{
  "fund_code": "005827",
  "report_period": "2024Q4",
  "title": "易方达蓝筹精选2024Q4季报解读",
  "audio_url": "https://...",
  "duration": 325,
  "transcript": [
    {"time": 0, "speaker": "小明", "text": "大家好..."}
  ],
  "status": "completed",
  "created_at": "2025-01-15T10:30:00Z"
}
```

---

## 6. 业务流程

### 6.1 播客生成流程（简化版）

```
用户点击"生成播客"
        ↓
前端调用生成API
        ↓
后端：
  1. 检查是否已生成 → 是，直接返回
  2. 从AKShare获取季报PDF
  3. 解析PDF提取基金经理观点
  4. 调用DeepSeek生成对话脚本
  5. 调用Edge TTS生成音频
  6. 保存并返回结果
        ↓
前端轮询状态（每3秒）
        ↓
生成完成 → 显示播放按钮
```

### 6.2 超时处理
- 生成预计1-3分钟
- 超过5分钟标记为失败
- 用户可重新触发

---

## 7. 技术限制

### 7.1 Edge TTS 限制
- 非官方API，可能不稳定
- 建议加上限流（5个/分钟）
- 失败后显示"暂时无法生成"

### 7.2 AKShare 限制
- 依赖网页结构，可能失效
- 准备3个热门基金预生成数据作为Demo

---

## 8. 成功指标

**验证阶段目标（2周内）：**
- 10+ 人试用
- 每人添加 2+ 只基金
- 播客完播率 > 50%
- 用户反馈：内容质量评分 > 3/5

**数据收集：**
- 基金添加次数
- 播客生成次数
- 播放次数和时长
- 文字稿查看率
- 用户主观反馈

---

## 9. 后续规划

**V1.0（验证通过后）：**
- 用户系统（手机号登录）
- 自动检测季报更新
- 更好的TTS服务
- 播客分享功能

**如果验证失败：**
- 分析原因（内容质量？产品形态？）
- 考虑调整方向或放弃
